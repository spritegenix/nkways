(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{5802:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.bind(s,4713))},4713:(e,a,s)=>{"use strict";s.d(a,{default:()=>n});var t=s(5155),l=s(2115);let n=()=>{let[e,a]=(0,l.useState)({name:"",email:"",subject:"",message:""}),[s,n]=(0,l.useState)(""),[c,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(!1),d=e=>{let{name:s,value:t}=e.target;a(e=>({...e,[s]:t}))},m=async s=>{s.preventDefault(),o(!0),n("");let t=new URLSearchParams(e);try{if(!(await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/email",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t})).ok)throw Error("Failed to send to the first endpoint");let e=await fetch("mail.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(!e.ok)throw Error("Failed to send to mail.php");let s=await e.text();n(s),r(!0),a({name:"",email:"",subject:"",message:""})}catch(e){n("Oops! An error occurred and your message could not be sent."),r(!1)}finally{o(!1)}};return(0,t.jsx)("form",{id:"contact-form",className:"contact-form wow fadeInUp animated",onSubmit:m,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"contact-field p-relative c-name mb-20",children:(0,t.jsx)("input",{type:"text",placeholder:"Please enter your name",name:"name",value:e.name,onChange:d,required:!0})})}),(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"contact-field p-relative c-email mb-20",children:(0,t.jsx)("input",{type:"email",placeholder:"Please enter your email",name:"email",value:e.email,onChange:d,required:!0})})}),(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"contact-field p-relative c-subject mb-20",children:(0,t.jsx)("input",{type:"text",placeholder:"Subject",name:"subject",value:e.subject,onChange:d})})}),(0,t.jsxs)("div",{className:"col-lg-12",children:[(0,t.jsx)("div",{className:"contact-field p-relative c-message mb-45",children:(0,t.jsx)("textarea",{name:"message",cols:"30",rows:"10",placeholder:"Message",value:e.message,onChange:d,required:!0})}),(0,t.jsxs)("div",{className:"slider-btn",children:[(0,t.jsx)("button",{className:"btn ss-btn",type:"submit",defaultValue:"Submit Now",children:i?"Sending...":c?"Sent":"Send Message"}),(0,t.jsx)("div",{className:"ajax-response ".concat(c?"success":"error"),children:s})]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[173,441,517,358],()=>a(5802)),_N_E=e.O()}]);