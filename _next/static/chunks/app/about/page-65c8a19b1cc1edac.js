(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{5431:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.bind(s,4713)),Promise.resolve().then(s.bind(s,7534)),Promise.resolve().then(s.bind(s,3381))},4713:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var t=s(5155),n=s(2115);let i=()=>{let[e,a]=(0,n.useState)({name:"",email:"",subject:"",message:""}),[s,i]=(0,n.useState)(""),[l,c]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),d=e=>{let{name:s,value:t}=e.target;a(e=>({...e,[s]:t}))},m=async s=>{s.preventDefault(),o(!0),i("");let t=new URLSearchParams(e);try{if(!(await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/email",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t})).ok)throw Error("Failed to send to the first endpoint");let e=await fetch("mail.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});if(!e.ok)throw Error("Failed to send to mail.php");let s=await e.text();i(s),c(!0),a({name:"",email:"",subject:"",message:""})}catch(e){i("Oops! An error occurred and your message could not be sent."),c(!1)}finally{o(!1)}};return(0,t.jsx)("form",{id:"contact-form",className:"contact-form wow fadeInUp animated",onSubmit:m,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"contact-field p-relative c-name mb-20",children:(0,t.jsx)("input",{type:"text",placeholder:"Please enter your name",name:"name",value:e.name,onChange:d,required:!0})})}),(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"contact-field p-relative c-email mb-20",children:(0,t.jsx)("input",{type:"email",placeholder:"Please enter your email",name:"email",value:e.email,onChange:d,required:!0})})}),(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"contact-field p-relative c-subject mb-20",children:(0,t.jsx)("input",{type:"text",placeholder:"Subject",name:"subject",value:e.subject,onChange:d})})}),(0,t.jsxs)("div",{className:"col-lg-12",children:[(0,t.jsx)("div",{className:"contact-field p-relative c-message mb-45",children:(0,t.jsx)("textarea",{name:"message",cols:"30",rows:"10",placeholder:"Message",value:e.message,onChange:d,required:!0})}),(0,t.jsxs)("div",{className:"slider-btn",children:[(0,t.jsx)("button",{className:"btn ss-btn",type:"submit",disabled:r,children:r?"Sending...":l?"Sent":"Send Message"}),(0,t.jsx)("div",{className:"ajax-response ".concat(l?"success":"error"),children:s})]})]})]})})}},7534:(e,a,s)=>{"use strict";s.d(a,{default:()=>c});var t=s(5155),n=s(2115),i=s(7650);let l=e=>{let{setOpenModal:a,openModal:s}=e,[l,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{c(document.getElementById("portal"))},[l,s]),(0,n.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[s]);let[r,o]=(0,n.useState)({username:"",designation:"",message:""}),[d,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)("");if(!s||!l)return null;let x=e=>{o({...r,[e.target.name]:e.target.value})},p=async e=>{e.preventDefault(),m(!0),h("");try{let e=await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/submit-testimonial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await e.json();e.ok?(h("Testimonial submitted successfully!"),o({username:"",designation:"",message:""})):h(a.message||"Something went wrong.")}catch(e){h("Error submitting testimonial. Please try again.")}finally{m(!1)}};return i.createPortal((0,t.jsx)("div",{id:"myModal",className:"modal ".concat(s?"d-block":"d-none"),children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsx)("span",{className:"closemodal",onClick:()=>a(!1),children:"\xd7"}),(0,t.jsx)("h2",{children:"Submit Your Testimonial"}),u&&(0,t.jsx)("p",{className:"response-message",children:u}),(0,t.jsxs)("form",{onSubmit:p,children:[(0,t.jsx)("label",{htmlFor:"username",children:"Username"}),(0,t.jsx)("input",{className:"inputstest",type:"text",id:"username",name:"username",value:r.username,onChange:x,required:!0}),(0,t.jsx)("label",{htmlFor:"designation",children:"Designation"}),(0,t.jsx)("input",{className:"inputstest",type:"text",id:"designation",name:"designation",value:r.designation,onChange:x,required:!0}),(0,t.jsx)("label",{htmlFor:"message",children:"Testimonial Message"}),(0,t.jsx)("textarea",{className:"inputstest",id:"message",name:"message",rows:"4",value:r.message,onChange:x,required:!0}),(0,t.jsx)("button",{className:"btn ss-btn",type:"submit",disabled:d,children:d?"Submitting...":"Submit Testimonial"})]})]})}),l)},c=()=>{let[e,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"slider-btn d-flex justify-content-center pt-3",children:(0,t.jsx)("button",{id:"addTestimonial",style:{zIndex:"1"},className:"btn ss-btn","data-animation":"fadeInRight","data-delay":".8s",onClick:()=>{i(!0)},children:"Add Testimonial"})}),(0,t.jsx)(l,{openModal:s,setOpenModal:i})]})}},3381:(e,a,s)=>{"use strict";s.d(a,{default:()=>o});var t=s(5155),n=s(8803),i=s.n(n),l=s(2115),c=s(3628),r=s(4216);s(2252),s(9408),s(6970);let o=()=>{let[e,a]=(0,l.useState)([]),s=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/all-reviews"),s=await e.json();"success"===s.status&&Array.isArray(s.data)&&a(s.data)}catch(e){console.error("Error fetching testimonials:",e)}})()},[]),(0,t.jsxs)("div",{className:"jsx-145ac2955935aacb testimonial-slider-container relative",children:[(0,t.jsx)("button",{ref:s,className:"jsx-145ac2955935aacb swiper-button-prev custom-nav",children:"❮"}),(0,t.jsx)("button",{ref:n,className:"jsx-145ac2955935aacb swiper-button-next custom-nav",children:"❯"}),(0,t.jsx)(c.RC,{modules:[r.Vx,r.Ij],spaceBetween:30,slidesPerView:1,autoplay:{delay:3e3},loop:!0,navigation:{prevEl:s.current,nextEl:n.current},onBeforeInit:e=>{e.params.navigation.prevEl=s.current,e.params.navigation.nextEl=n.current,e.navigation.init(),e.navigation.update()},children:e.length>0?e.map(e=>(0,t.jsx)(c.qr,{children:(0,t.jsxs)("div",{className:"jsx-145ac2955935aacb single-testimonial",children:[(0,t.jsx)("div",{className:"jsx-145ac2955935aacb com-icon",children:(0,t.jsx)("img",{src:"/img/bg/Icon_comment.png",alt:"Comment Icon",className:"jsx-145ac2955935aacb"})}),(0,t.jsx)("p",{className:"jsx-145ac2955935aacb",children:e.review}),(0,t.jsxs)("div",{className:"jsx-145ac2955935aacb testi-author d-flex gap-4 justify-content-center align-items-center",children:[(0,t.jsx)("img",{src:"/img/testimonial/test_img01.png",alt:e.user_name,className:"jsx-145ac2955935aacb"}),(0,t.jsx)("div",{className:"jsx-145ac2955935aacb ta-info mt-0 ml-3 text-center",children:(0,t.jsx)("h6",{className:"jsx-145ac2955935aacb",children:e.user_name})})]})]})},e.id)):(0,t.jsx)("p",{className:"jsx-145ac2955935aacb",children:"No testimonials available."})}),(0,t.jsx)(i(),{id:"145ac2955935aacb",children:".custom-nav.jsx-145ac2955935aacb{position:absolute;top:60%;background:rgba(237,215,16,.74);color:white;border:none;font-size:24px;padding:10px 15px;cursor:pointer;z-index:10}.swiper-button-prev.jsx-145ac2955935aacb{}.swiper-button-next.jsx-145ac2955935aacb{}"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[155,173,137,441,517,358],()=>a(5431)),_N_E=e.O()}]);