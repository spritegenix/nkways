(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{5431:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,8173,23)),Promise.resolve().then(t.bind(t,4713)),Promise.resolve().then(t.bind(t,7534)),Promise.resolve().then(t.bind(t,3381))},4713:(e,a,t)=>{"use strict";t.d(a,{default:()=>i});var s=t(5155),n=t(2115);let i=()=>{let[e,a]=(0,n.useState)({name:"",email:"",subject:"",message:""}),[t,i]=(0,n.useState)(""),[l,r]=(0,n.useState)(!1),[c,o]=(0,n.useState)(!1),m=e=>{let{name:t,value:s}=e.target;a(e=>({...e,[t]:s}))},d=async t=>{t.preventDefault(),o(!0),i("");let s=new URLSearchParams(e);try{if(!(await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/email",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s})).ok)throw Error("Failed to send to the first endpoint");let e=await fetch("mail.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!e.ok)throw Error("Failed to send to mail.php");let t=await e.text();i(t),r(!0),a({name:"",email:"",subject:"",message:""})}catch(e){i("Oops! An error occurred and your message could not be sent."),r(!1)}finally{o(!1)}};return(0,s.jsx)("form",{id:"contact-form",className:"contact-form wow fadeInUp animated",onSubmit:d,children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsx)("div",{className:"contact-field p-relative c-name mb-20",children:(0,s.jsx)("input",{type:"text",placeholder:"Please enter your name",name:"name",value:e.name,onChange:m,required:!0})})}),(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsx)("div",{className:"contact-field p-relative c-email mb-20",children:(0,s.jsx)("input",{type:"email",placeholder:"Please enter your email",name:"email",value:e.email,onChange:m,required:!0})})}),(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsx)("div",{className:"contact-field p-relative c-subject mb-20",children:(0,s.jsx)("input",{type:"text",placeholder:"Subject",name:"subject",value:e.subject,onChange:m})})}),(0,s.jsxs)("div",{className:"col-lg-12",children:[(0,s.jsx)("div",{className:"contact-field p-relative c-message mb-45",children:(0,s.jsx)("textarea",{name:"message",cols:"30",rows:"10",placeholder:"Message",value:e.message,onChange:m,required:!0})}),(0,s.jsxs)("div",{className:"slider-btn",children:[(0,s.jsx)("button",{className:"btn ss-btn",type:"submit",defaultValue:"Submit Now",children:c?"Sending...":l?"Sent":"Send Message"}),(0,s.jsx)("div",{className:"ajax-response ".concat(l?"success":"error"),children:t})]})]})]})})}},7534:(e,a,t)=>{"use strict";t.d(a,{default:()=>r});var s=t(5155),n=t(2115),i=t(7650);let l=e=>{let{setOpenModal:a,openModal:t}=e,[l,r]=(0,n.useState)(null);(0,n.useEffect)(()=>{r(document.getElementById("portal"))},[l,t]),(0,n.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);let[c,o]=(0,n.useState)({username:"",designation:"",review:""}),[m,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)("");if(!t||!l)return null;let p=e=>{o({...c,[e.target.name]:e.target.value})},x=async e=>{e.preventDefault(),d(!0),h("");let a={user_name:c.username.trim(),designation:c.designation.trim(),review:c.review.trim(),profile_pic:"img/testimonial/test_img01.png",ratings:Number(5)};try{let e=await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/submit-testimonial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});console.log("Submitting:",JSON.stringify(a)),console.log("Status Code:",e.status),console.log("Status Text:",e.statusText);let t=await e.json();console.log("API Response:",t),e.ok?(h("Testimonial submitted successfully!"),o({username:"",designation:"",review:""})):h(t.error||"Something went wrong.")}catch(e){console.error("Fetch error:",e),h("Error submitting testimonial. Please try again.")}finally{d(!1)}};return i.createPortal((0,s.jsx)("div",{id:"myModal",className:"modal ".concat(t?"d-block":"d-none"),children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("span",{className:"closemodal",onClick:()=>a(!1),children:"\xd7"}),(0,s.jsx)("h2",{children:"Submit Your Testimonial"}),u&&(0,s.jsx)("p",{className:"response-message",children:u}),(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsx)("label",{htmlFor:"username",children:"Username"}),(0,s.jsx)("input",{className:"inputstest",type:"text",id:"username",name:"username",value:c.username,onChange:p,required:!0}),(0,s.jsx)("label",{htmlFor:"designation",children:"Designation"}),(0,s.jsx)("input",{className:"inputstest",type:"text",id:"designation",name:"designation",value:c.designation,onChange:p,required:!0}),(0,s.jsx)("label",{htmlFor:"review",children:"Testimonial Message"}),(0,s.jsx)("textarea",{className:"inputstest",id:"review",name:"review",rows:"4",value:c.review,onChange:p,required:!0}),(0,s.jsx)("button",{className:"btn ss-btn",type:"submit",disabled:m,children:m?"Submitting...":"Submit Testimonial"})]})]})}),l)},r=()=>{let[e,a]=(0,n.useState)(!1),[t,i]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"slider-btn d-flex justify-content-center pt-3",children:(0,s.jsx)("button",{id:"addTestimonial",style:{zIndex:"1"},className:"btn ss-btn","data-animation":"fadeInRight","data-delay":".8s",onClick:()=>{i(!0)},children:"Add Testimonial"})}),(0,s.jsx)(l,{openModal:t,setOpenModal:i})]})}},3381:(e,a,t)=>{"use strict";t.d(a,{default:()=>o});var s=t(5155),n=t(8803),i=t.n(n),l=t(2115),r=t(3628),c=t(4216);t(2252),t(9408),t(6970);let o=()=>{let[e,a]=(0,l.useState)([]),t=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("https://www.nkwayshome.co.za/admin_panel/website_management/all-reviews"),t=await e.json();"success"===t.status&&Array.isArray(t.data)&&a(t.data)}catch(e){console.error("Error fetching testimonials:",e)}})()},[]),(0,s.jsxs)("div",{className:"jsx-145ac2955935aacb testimonial-slider-container relative",children:[(0,s.jsx)("button",{ref:t,className:"jsx-145ac2955935aacb swiper-button-prev custom-nav",children:"❮"}),(0,s.jsx)("button",{ref:n,className:"jsx-145ac2955935aacb swiper-button-next custom-nav",children:"❯"}),(0,s.jsx)(r.RC,{modules:[c.Vx,c.Ij],spaceBetween:30,slidesPerView:1,autoplay:{delay:3e3},loop:!0,navigation:{prevEl:t.current,nextEl:n.current},onBeforeInit:e=>{e.params.navigation.prevEl=t.current,e.params.navigation.nextEl=n.current,e.navigation.init(),e.navigation.update()},children:e.length>0?e.map(e=>(0,s.jsx)(r.qr,{children:(0,s.jsxs)("div",{className:"jsx-145ac2955935aacb single-testimonial",children:[(0,s.jsx)("div",{className:"jsx-145ac2955935aacb com-icon",children:(0,s.jsx)("img",{src:"/img/bg/Icon_comment.png",alt:"Comment Icon",className:"jsx-145ac2955935aacb"})}),(0,s.jsx)("p",{className:"jsx-145ac2955935aacb",children:e.review}),(0,s.jsxs)("div",{className:"jsx-145ac2955935aacb testi-author d-flex gap-4 justify-content-center align-items-center",children:[(0,s.jsx)("img",{src:"/img/testimonial/test_img01.png",alt:e.user_name,className:"jsx-145ac2955935aacb"}),(0,s.jsx)("div",{className:"jsx-145ac2955935aacb ta-info mt-0 ml-3 text-center",children:(0,s.jsx)("h6",{className:"jsx-145ac2955935aacb",children:e.user_name})})]})]})},e.id)):(0,s.jsx)("p",{className:"jsx-145ac2955935aacb",children:"No testimonials available."})}),(0,s.jsx)(i(),{id:"145ac2955935aacb",children:".custom-nav.jsx-145ac2955935aacb{position:absolute;top:60%;background:rgba(237,215,16,.74);color:white;border:none;font-size:24px;padding:10px 15px;cursor:pointer;z-index:10}.swiper-button-prev.jsx-145ac2955935aacb{}.swiper-button-next.jsx-145ac2955935aacb{}"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[155,173,137,441,517,358],()=>a(5431)),_N_E=e.O()}]);